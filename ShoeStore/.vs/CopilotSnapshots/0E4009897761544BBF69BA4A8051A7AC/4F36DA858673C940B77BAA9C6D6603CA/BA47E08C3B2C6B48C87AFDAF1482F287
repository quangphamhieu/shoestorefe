using AutoMapper;
using ShoeStore.Application.Dtos.Brand;
using ShoeStore.Application.Dtos.Store;
using ShoeStore.Domain.Entities;

namespace ShoeStore.Infrastructure.Mappings
{
    public class MappingProfile : Profile
    {
        public MappingProfile()
        {
            // Brand mappings
            CreateMap<CreateBrandDto, Brand>();
            CreateMap<UpdateBrandDto, Brand>()
                .ForAllMembers(opt => opt.Condition((src, dest, srcMember) => srcMember != null));
            CreateMap<Brand, BrandDto>();

            // Store mappings
            CreateMap<CreateStoreDto, Store>();
            CreateMap<UpdateStoreDto, Store>()
                .ForAllMembers(opt => opt.Condition((src, dest, srcMember) => srcMember != null));
            CreateMap<Store, StoreDto>();
        }
    }
}
